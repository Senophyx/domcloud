---
title: Zig
sidebar_position: 14
---

# Deploy Zig Apps


Zig is an new low-level programming language popularly used for speed similar to Zig and C++. Zig is served as an compile language, which means you need to compile your code before running it. 

There is no default `zig` compiler at system level. You have to install it first through deployment scripts.


:::warning

Serving Zig apps requires to be run via GLS, that's mean you have to listen from given `PORT` env/args.

:::

## Example

The deployment script below installs the latest `zig` compiler and compiles `main.zig` and serves that `main` binary. 


```yaml title="https://github.com/domcloud/recipes/blob/master/zig.yml"
source: clear
features:
  - zig
nginx:
  root: public_html/public
  passenger:
    enabled: "on"
    app_start_command: env PORT=$PORT ./target/release/app
commands:
  - filename: src/main.rs
    content: |
      // TODO
  - zig build-exe src/main.zig --output-dir target/release
```

## Existing Zig projects

For existing zig apps, use this deployment script. This project must have a `zig.mod` initialized.

```yaml title="https://github.com/domcloud/recipes/blob/master/zig-binary.yml"
features:
  - zig latest
nginx:
  root: public_html/public
  passenger:
    enabled: "on"
    app_start_command: env PORT=$PORT ./target/release/app
commands:
  - zig build-exe src/main.zig --output-dir target/release
```

## Use other Zig versions

To switch zig version use feature syntax like `zig latest`, `zig 0.9.0`, etc. Check your current zig version using `zig --version` in SSH.

```yaml
features:
  - zig 0.9.0
```

Zig install scripts is powered by [webi](https://webinstall.dev/zig/). 

## App Management

Your app do not restarted automatically after file changes. To restart, run `restart` via SSH.

Environment variables can be set either using NGINX's `env_var_list` or `~/.bashrc`. Usually your language framework also reads `.env` files.

See [NGINX and App Daemon](../features/nginx.mdx) for more information about NGINX and App managements including restarting, environment variables, and other global limitations.

## App Logging

We do not have built-in logging capability at this time. Only startup problems displayed in the browser.

Please use a proper logging mechanism such as [the standard logging library](https://gist.github.com/leecannon/d6f5d7e5af5881c466161270347ce84d) then write it to a log file, or any other solution that suits you.

NGINX errors and traffic logs can be examined via Webmin.
